<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Charts Line Chart with Interactive Legend</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var moodData = {
                "dates": ["2024-08-01", "2024-08-02", "2024-08-03", "2024-08-04"],
                "intensity_data": {
                    "angry": [2.0, 1.0, 3.0, 2.5],
                    "happy": [5.0, 4.5, 4.0, 5.0],
                    "sad": [1.0, 2.0, 1.5, 1.0],
                    "anxious": [3.0, 3.5, 3.0, 2.5]
                }
            };

            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Date');
            data.addColumn('number', 'Angry');
            data.addColumn('number', 'Happy');
            data.addColumn('number', 'Sad');
            data.addColumn('number', 'Anxious');

            moodData.dates.forEach((date, i) => {
                data.addRow([
                    date,
                    moodData.intensity_data.angry[i],
                    moodData.intensity_data.happy[i],
                    moodData.intensity_data.sad[i],
                    moodData.intensity_data.anxious[i]
                ]);
            });

            var options = {
                title: 'Mood Intensity Over Time',
                legend: { position: 'top', maxLines: 2 },
                hAxis: { title: 'Date' },
                vAxis: { title: 'Intensity', minValue: 0 },
                pointSize: 5,
                colors: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0']
            };

            var chart = new google.visualization.LineChart(document.getElementById('googlechart-container'));
            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <div id="googlechart-container" style="width: 100%; height: 500px;"></div>
</body>
</html>
